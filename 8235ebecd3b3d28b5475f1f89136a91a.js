(function(m){if(typeof m.window!="undefined"&&m.document||m.require&&m.define)return;m.console||(m.console=function(){var o=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:o})},m.console.error=m.console.warn=m.console.log=m.console.trace=m.console),m.window=m,m.ace=m,m.onerror=function(o,n,r,s,u){postMessage({type:"error",data:{message:o,data:u.data,file:n,line:r,col:s,stack:u.stack}})},m.normalizeModule=function(o,n){if(n.indexOf("!")!==-1){var r=n.split("!");return m.normalizeModule(o,r[0])+"!"+m.normalizeModule(o,r[1])}if(n.charAt(0)=="."){var s=o.split("/").slice(0,-1).join("/");for(n=(s?s+"/":"")+n;n.indexOf(".")!==-1&&u!=n;){var u=n;n=n.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return n},m.require=function(n,r){if(r||(r=n,n=null),!r.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");r=m.normalizeModule(n,r);var s=m.require.modules[r];if(s)return s.initialized||(s.initialized=!0,s.exports=s.factory().exports),s.exports;if(!m.require.tlns)return console.log("unable to load "+r);var u=y(r,m.require.tlns);return u.slice(-3)!=".js"&&(u+=".js"),m.require.id=r,m.require.modules[r]={},importScripts(u),m.require(n,r)};function y(o,n){for(var r=o,s="";r;){var u=n[r];if(typeof u=="string")return u+s;if(u)return u.location.replace(/\/*$/,"/")+(s||u.main||u.name);if(u===!1)return"";var t=r.lastIndexOf("/");if(t===-1)break;s=r.substr(t)+s,r=r.slice(0,t)}return o}m.require.modules={},m.require.tlns={},m.define=function(o,n,r){if(arguments.length==2?(r=n,typeof o!="string"&&(n=o,o=m.require.id)):arguments.length==1&&(r=o,n=[],o=m.require.id),typeof r!="function"){m.require.modules[o]={exports:r,initialized:!0};return}n.length||(n=["require","exports","module"]);var s=function(u){return m.require(o,u)};m.require.modules[o]={exports:{},factory:function(){var u=this,t=r.apply(this,n.slice(0,r.length).map(function(a){switch(a){case"require":return s;case"exports":return u.exports;case"module":return u;default:return s(a)}}));return t&&(u.exports=t),u}}},m.define.amd={},require.tlns={},m.initBaseUrls=function(n){for(var r in n)require.tlns[r]=n[r]},m.initSender=function(){var n=m.require("ace/lib/event_emitter").EventEmitter,r=m.require("ace/lib/oop"),s=function(){};return function(){r.implement(this,n),this.callback=function(u,t){postMessage({type:"call",id:t,data:u})},this.emit=function(u,t){postMessage({type:"event",name:u,data:t})}}.call(s.prototype),new s};var T=m.main=null,p=m.sender=null;m.onmessage=function(o){var n=o.data;if(n.event&&p)p._signal(n.event,n.data);else if(n.command)if(T[n.command])T[n.command].apply(T,n.args);else if(m[n.command])m[n.command].apply(m,n.args);else throw new Error("Unknown command:"+n.command);else if(n.init){m.initBaseUrls(n.tlns),p=m.sender=m.initSender();var r=require(n.module)[n.classname];T=m.main=new r(p)}}})(this),ace.define("ace/lib/oop",[],function(m,y,T){"use strict";y.inherits=function(p,o){p.super_=o,p.prototype=Object.create(o.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}})},y.mixin=function(p,o){for(var n in o)p[n]=o[n];return p},y.implement=function(p,o){y.mixin(p,o)}}),ace.define("ace/range",[],function(m,y,T){"use strict";var p=function(n,r){return n.row-r.row||n.column-r.column},o=function(n,r,s,u){this.start={row:n,column:r},this.end={row:s,column:u}};(function(){this.isEqual=function(n){return this.start.row===n.start.row&&this.end.row===n.end.row&&this.start.column===n.start.column&&this.end.column===n.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(n,r){return this.compare(n,r)==0},this.compareRange=function(n){var r,s=n.end,u=n.start;return r=this.compare(s.row,s.column),r==1?(r=this.compare(u.row,u.column),r==1?2:r==0?1:0):r==-1?-2:(r=this.compare(u.row,u.column),r==-1?-1:r==1?42:0)},this.comparePoint=function(n){return this.compare(n.row,n.column)},this.containsRange=function(n){return this.comparePoint(n.start)==0&&this.comparePoint(n.end)==0},this.intersects=function(n){var r=this.compareRange(n);return r==-1||r==0||r==1},this.isEnd=function(n,r){return this.end.row==n&&this.end.column==r},this.isStart=function(n,r){return this.start.row==n&&this.start.column==r},this.setStart=function(n,r){typeof n=="object"?(this.start.column=n.column,this.start.row=n.row):(this.start.row=n,this.start.column=r)},this.setEnd=function(n,r){typeof n=="object"?(this.end.column=n.column,this.end.row=n.row):(this.end.row=n,this.end.column=r)},this.inside=function(n,r){return this.compare(n,r)==0?!(this.isEnd(n,r)||this.isStart(n,r)):!1},this.insideStart=function(n,r){return this.compare(n,r)==0?!this.isEnd(n,r):!1},this.insideEnd=function(n,r){return this.compare(n,r)==0?!this.isStart(n,r):!1},this.compare=function(n,r){return!this.isMultiLine()&&n===this.start.row?r<this.start.column?-1:r>this.end.column?1:0:n<this.start.row?-1:n>this.end.row?1:this.start.row===n?r>=this.start.column?0:-1:this.end.row===n?r<=this.end.column?0:1:0},this.compareStart=function(n,r){return this.start.row==n&&this.start.column==r?-1:this.compare(n,r)},this.compareEnd=function(n,r){return this.end.row==n&&this.end.column==r?1:this.compare(n,r)},this.compareInside=function(n,r){return this.end.row==n&&this.end.column==r?1:this.start.row==n&&this.start.column==r?-1:this.compare(n,r)},this.clipRows=function(n,r){if(this.end.row>r)var s={row:r+1,column:0};else if(this.end.row<n)var s={row:n,column:0};if(this.start.row>r)var u={row:r+1,column:0};else if(this.start.row<n)var u={row:n,column:0};return o.fromPoints(u||this.start,s||this.end)},this.extend=function(n,r){var s=this.compare(n,r);if(s==0)return this;if(s==-1)var u={row:n,column:r};else var t={row:n,column:r};return o.fromPoints(u||this.start,t||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(n){var r=n.documentToScreenPosition(this.start),s=n.documentToScreenPosition(this.end);return new o(r.row,r.column,s.row,s.column)},this.moveBy=function(n,r){this.start.row+=n,this.start.column+=r,this.end.row+=n,this.end.column+=r}}).call(o.prototype),o.fromPoints=function(n,r){return new o(n.row,n.column,r.row,r.column)},o.comparePoints=p,o.comparePoints=function(n,r){return n.row-r.row||n.column-r.column},y.Range=o}),ace.define("ace/apply_delta",[],function(m,y,T){"use strict";function p(r,s){throw console.log("Invalid Delta:",r),"Invalid Delta: "+s}function o(r,s){return s.row>=0&&s.row<r.length&&s.column>=0&&s.column<=r[s.row].length}function n(r,s){s.action!="insert"&&s.action!="remove"&&p(s,"delta.action must be 'insert' or 'remove'"),s.lines instanceof Array||p(s,"delta.lines must be an Array"),(!s.start||!s.end)&&p(s,"delta.start/end must be an present");var u=s.start;o(r,s.start)||p(s,"delta.start must be contained in document");var t=s.end;s.action=="remove"&&!o(r,t)&&p(s,"delta.end must contained in document for 'remove' actions");var a=t.row-u.row,f=t.column-(a==0?u.column:0);(a!=s.lines.length-1||s.lines[a].length!=f)&&p(s,"delta.range must match delta lines")}y.applyDelta=function(r,s,u){var t=s.start.row,a=s.start.column,f=r[t]||"";switch(s.action){case"insert":var g=s.lines;if(g.length===1)r[t]=f.substring(0,a)+s.lines[0]+f.substring(a);else{var d=[t,1].concat(s.lines);r.splice.apply(r,d),r[t]=f.substring(0,a)+r[t],r[t+s.lines.length-1]+=f.substring(a)}break;case"remove":var x=s.end.column,E=s.end.row;t===E?r[t]=f.substring(0,a)+f.substring(x):r.splice(t,E-t+1,f.substring(0,a)+r[E].substring(x));break}}}),ace.define("ace/lib/event_emitter",[],function(m,y,T){"use strict";var p={},o=function(){this.propagationStopped=!0},n=function(){this.defaultPrevented=!0};p._emit=p._dispatchEvent=function(r,s){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var u=this._eventRegistry[r]||[],t=this._defaultHandlers[r];if(!(!u.length&&!t)){(typeof s!="object"||!s)&&(s={}),s.type||(s.type=r),s.stopPropagation||(s.stopPropagation=o),s.preventDefault||(s.preventDefault=n),u=u.slice();for(var a=0;a<u.length&&(u[a](s,this),!s.propagationStopped);a++);if(t&&!s.defaultPrevented)return t(s,this)}},p._signal=function(r,s){var u=(this._eventRegistry||{})[r];if(!!u){u=u.slice();for(var t=0;t<u.length;t++)u[t](s,this)}},p.once=function(r,s){var u=this;if(this.on(r,function t(){u.off(r,t),s.apply(null,arguments)}),!s)return new Promise(function(t){s=t})},p.setDefaultHandler=function(r,s){var u=this._defaultHandlers;if(u||(u=this._defaultHandlers={_disabled_:{}}),u[r]){var t=u[r],a=u._disabled_[r];a||(u._disabled_[r]=a=[]),a.push(t);var f=a.indexOf(s);f!=-1&&a.splice(f,1)}u[r]=s},p.removeDefaultHandler=function(r,s){var u=this._defaultHandlers;if(!!u){var t=u._disabled_[r];if(u[r]==s)t&&this.setDefaultHandler(r,t.pop());else if(t){var a=t.indexOf(s);a!=-1&&t.splice(a,1)}}},p.on=p.addEventListener=function(r,s,u){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[r];return t||(t=this._eventRegistry[r]=[]),t.indexOf(s)==-1&&t[u?"unshift":"push"](s),s},p.off=p.removeListener=p.removeEventListener=function(r,s){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[r];if(!!u){var t=u.indexOf(s);t!==-1&&u.splice(t,1)}},p.removeAllListeners=function(r){r||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[r]=void 0),this._defaultHandlers&&(this._defaultHandlers[r]=void 0)},y.EventEmitter=p}),ace.define("ace/anchor",[],function(m,y,T){"use strict";var p=m("./lib/oop"),o=m("./lib/event_emitter").EventEmitter,n=y.Anchor=function(r,s,u){this.$onChange=this.onChange.bind(this),this.attach(r),typeof u=="undefined"?this.setPosition(s.row,s.column):this.setPosition(s,u)};(function(){p.implement(this,o),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(u){if(!(u.start.row==u.end.row&&u.start.row!=this.row)&&!(u.start.row>this.row)){var t=s(u,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}};function r(u,t,a){var f=a?u.column<=t.column:u.column<t.column;return u.row<t.row||u.row==t.row&&f}function s(u,t,a){var f=u.action=="insert",g=(f?1:-1)*(u.end.row-u.start.row),d=(f?1:-1)*(u.end.column-u.start.column),x=u.start,E=f?x:u.end;return r(t,x,a)?{row:t.row,column:t.column}:r(E,t,!a)?{row:t.row+g,column:t.column+(t.row==E.row?d:0)}:{row:x.row,column:x.column}}this.setPosition=function(u,t,a){var f;if(a?f={row:u,column:t}:f=this.$clipPositionToDocument(u,t),!(this.row==f.row&&this.column==f.column)){var g={row:this.row,column:this.column};this.row=f.row,this.column=f.column,this._signal("change",{old:g,value:f})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(u){this.document=u||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(u,t){var a={};return u>=this.document.getLength()?(a.row=Math.max(0,this.document.getLength()-1),a.column=this.document.getLine(a.row).length):u<0?(a.row=0,a.column=0):(a.row=u,a.column=Math.min(this.document.getLine(a.row).length,Math.max(0,t))),t<0&&(a.column=0),a}}).call(n.prototype)}),ace.define("ace/document",[],function(m,y,T){"use strict";var p=m("./lib/oop"),o=m("./apply_delta").applyDelta,n=m("./lib/event_emitter").EventEmitter,r=m("./range").Range,s=m("./anchor").Anchor,u=function(t){this.$lines=[""],t.length===0?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){p.implement(this,n),this.setValue=function(t){var a=this.getLength()-1;this.remove(new r(0,0,a,this.getLine(a).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,a){return new s(this,t,a)},"aaa".split(/a/).length===0?this.$split=function(t){return t.replace(/\r\n|\r/g,`
`).split(`
`)}:this.$split=function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var a=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=a?a[1]:`
`,this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return t==`\r
`||t=="\r"||t==`
`},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,a){return this.$lines.slice(t,a+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var a;if(t.start.row===t.end.row)a=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{a=this.getLines(t.start.row,t.end.row),a[0]=(a[0]||"").substring(t.start.column);var f=a.length-1;t.end.row-t.start.row==f&&(a[f]=a[f].substring(0,t.end.column))}return a},this.insertLines=function(t,a){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,a)},this.removeLines=function(t,a){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,a)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,a){return this.getLength()<=1&&this.$detectNewLine(a),this.insertMergedLines(t,this.$split(a))},this.insertInLine=function(t,a){var f=this.clippedPos(t.row,t.column),g=this.pos(t.row,t.column+a.length);return this.applyDelta({start:f,end:g,action:"insert",lines:[a]},!0),this.clonePos(g)},this.clippedPos=function(t,a){var f=this.getLength();t===void 0?t=f:t<0?t=0:t>=f&&(t=f-1,a=void 0);var g=this.getLine(t);return a==null&&(a=g.length),a=Math.min(Math.max(a,0),g.length),{row:t,column:a}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,a){return{row:t,column:a}},this.$clipPosition=function(t){var a=this.getLength();return t.row>=a?(t.row=Math.max(0,a-1),t.column=this.getLine(a-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,a){t=Math.min(Math.max(t,0),this.getLength());var f=0;t<this.getLength()?(a=a.concat([""]),f=0):(a=[""].concat(a),t--,f=this.$lines[t].length),this.insertMergedLines({row:t,column:f},a)},this.insertMergedLines=function(t,a){var f=this.clippedPos(t.row,t.column),g={row:f.row+a.length-1,column:(a.length==1?f.column:0)+a[a.length-1].length};return this.applyDelta({start:f,end:g,action:"insert",lines:a}),this.clonePos(g)},this.remove=function(t){var a=this.clippedPos(t.start.row,t.start.column),f=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:a,end:f,action:"remove",lines:this.getLinesForRange({start:a,end:f})}),this.clonePos(a)},this.removeInLine=function(t,a,f){var g=this.clippedPos(t,a),d=this.clippedPos(t,f);return this.applyDelta({start:g,end:d,action:"remove",lines:this.getLinesForRange({start:g,end:d})},!0),this.clonePos(g)},this.removeFullLines=function(t,a){t=Math.min(Math.max(0,t),this.getLength()-1),a=Math.min(Math.max(0,a),this.getLength()-1);var f=a==this.getLength()-1&&t>0,g=a<this.getLength()-1,d=f?t-1:t,x=f?this.getLine(d).length:0,E=g?a+1:a,H=g?0:this.getLine(E).length,k=new r(d,x,E,H),b=this.$lines.slice(t,a+1);return this.applyDelta({start:k.start,end:k.end,action:"remove",lines:this.getLinesForRange(k)}),b},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,a){if(t instanceof r||(t=r.fromPoints(t.start,t.end)),a.length===0&&t.isEmpty())return t.start;if(a==this.getTextRange(t))return t.end;this.remove(t);var f;return a?f=this.insert(t.start,a):f=t.start,f},this.applyDeltas=function(t){for(var a=0;a<t.length;a++)this.applyDelta(t[a])},this.revertDeltas=function(t){for(var a=t.length-1;a>=0;a--)this.revertDelta(t[a])},this.applyDelta=function(t,a){var f=t.action=="insert";(f?t.lines.length<=1&&!t.lines[0]:!r.comparePoints(t.start,t.end))||(f&&t.lines.length>2e4?this.$splitAndapplyLargeDelta(t,2e4):(o(this.$lines,t,a),this._signal("change",t)))},this.$safeApplyDelta=function(t){var a=this.$lines.length;(t.action=="remove"&&t.start.row<a&&t.end.row<a||t.action=="insert"&&t.start.row<=a)&&this.applyDelta(t)},this.$splitAndapplyLargeDelta=function(t,a){for(var f=t.lines,g=f.length-a+1,d=t.start.row,x=t.start.column,E=0,H=0;E<g;E=H){H+=a-1;var k=f.slice(E,H);k.push(""),this.applyDelta({start:this.pos(d+E,x),end:this.pos(d+H,x=0),action:t.action,lines:k},!0)}t.lines=f.slice(E),t.start.row=d+E,t.start.column=x,this.applyDelta(t,!0)},this.revertDelta=function(t){this.$safeApplyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:t.action=="insert"?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,a){for(var f=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,d=a||0,x=f.length;d<x;d++)if(t-=f[d].length+g,t<0)return{row:d,column:t+f[d].length+g};return{row:x-1,column:t+f[x-1].length+g}},this.positionToIndex=function(t,a){for(var f=this.$lines||this.getAllLines(),g=this.getNewLineCharacter().length,d=0,x=Math.min(t.row,f.length),E=a||0;E<x;++E)d+=f[E].length+g;return d+t.column}}).call(u.prototype),y.Document=u}),ace.define("ace/lib/lang",[],function(m,y,T){"use strict";y.last=function(n){return n[n.length-1]},y.stringReverse=function(n){return n.split("").reverse().join("")},y.stringRepeat=function(n,r){for(var s="";r>0;)r&1&&(s+=n),(r>>=1)&&(n+=n);return s};var p=/^\s\s*/,o=/\s\s*$/;y.stringTrimLeft=function(n){return n.replace(p,"")},y.stringTrimRight=function(n){return n.replace(o,"")},y.copyObject=function(n){var r={};for(var s in n)r[s]=n[s];return r},y.copyArray=function(n){for(var r=[],s=0,u=n.length;s<u;s++)n[s]&&typeof n[s]=="object"?r[s]=this.copyObject(n[s]):r[s]=n[s];return r},y.deepCopy=function n(r){if(typeof r!="object"||!r)return r;var s;if(Array.isArray(r)){s=[];for(var u=0;u<r.length;u++)s[u]=n(r[u]);return s}if(Object.prototype.toString.call(r)!=="[object Object]")return r;s={};for(var u in r)s[u]=n(r[u]);return s},y.arrayToMap=function(n){for(var r={},s=0;s<n.length;s++)r[n[s]]=1;return r},y.createMap=function(n){var r=Object.create(null);for(var s in n)r[s]=n[s];return r},y.arrayRemove=function(n,r){for(var s=0;s<=n.length;s++)r===n[s]&&n.splice(s,1)},y.escapeRegExp=function(n){return n.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},y.escapeHTML=function(n){return(""+n).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},y.getMatchOffsets=function(n,r){var s=[];return n.replace(r,function(u){s.push({offset:arguments[arguments.length-2],length:u.length})}),s},y.deferredCall=function(n){var r=null,s=function(){r=null,n()},u=function(t){return u.cancel(),r=setTimeout(s,t||0),u};return u.schedule=u,u.call=function(){return this.cancel(),n(),u},u.cancel=function(){return clearTimeout(r),r=null,u},u.isPending=function(){return r},u},y.delayedCall=function(n,r){var s=null,u=function(){s=null,n()},t=function(a){s==null&&(s=setTimeout(u,a||r))};return t.delay=function(a){s&&clearTimeout(s),s=setTimeout(u,a||r)},t.schedule=t,t.call=function(){this.cancel(),n()},t.cancel=function(){s&&clearTimeout(s),s=null},t.isPending=function(){return s},t}}),ace.define("ace/worker/mirror",[],function(m,y,T){"use strict";var p=m("../range").Range,o=m("../document").Document,n=m("../lib/lang"),r=y.Mirror=function(s){this.sender=s;var u=this.doc=new o(""),t=this.deferredUpdate=n.delayedCall(this.onUpdate.bind(this)),a=this;s.on("change",function(f){var g=f.data;if(g[0].start)u.applyDeltas(g);else for(var d=0;d<g.length;d+=2){if(Array.isArray(g[d+1]))var x={action:"insert",start:g[d],lines:g[d+1]};else var x={action:"remove",start:g[d],end:g[d+1]};u.applyDelta(x,!0)}if(a.$timeout)return t.schedule(a.$timeout);a.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(s){this.$timeout=s},this.setValue=function(s){this.doc.setValue(s),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(s){this.sender.callback(this.doc.getValue(),s)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(r.prototype)}),ace.define("ace/mode/lua/luaparse",[],function(m,y,T){(function(p,o,n){n(y)})(this,"luaparse",function(p){"use strict";p.version="0.1.4";var o,n,r,s=p.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1},u=1,t=2,a=4,f=8,g=16,d=32,x=64,E=128,H=256;p.tokenTypes={EOF:u,StringLiteral:t,Keyword:a,Identifier:f,NumericLiteral:g,Punctuator:d,BooleanLiteral:x,NilLiteral:E,VarargLiteral:H};var k=p.errors={unexpected:"Unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'"},b=p.ast={labelStatement:function(e){return{type:"LabelStatement",label:e}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(e){return{type:"GotoStatement",label:e}},returnStatement:function(e){return{type:"ReturnStatement",arguments:e}},ifStatement:function(e){return{type:"IfStatement",clauses:e}},ifClause:function(e,i){return{type:"IfClause",condition:e,body:i}},elseifClause:function(e,i){return{type:"ElseifClause",condition:e,body:i}},elseClause:function(e){return{type:"ElseClause",body:e}},whileStatement:function(e,i){return{type:"WhileStatement",condition:e,body:i}},doStatement:function(e){return{type:"DoStatement",body:e}},repeatStatement:function(e,i){return{type:"RepeatStatement",condition:e,body:i}},localStatement:function(e,i){return{type:"LocalStatement",variables:e,init:i}},assignmentStatement:function(e,i){return{type:"AssignmentStatement",variables:e,init:i}},callStatement:function(e){return{type:"CallStatement",expression:e}},functionStatement:function(e,i,l,h){return{type:"FunctionDeclaration",identifier:e,isLocal:l,parameters:i,body:h}},forNumericStatement:function(e,i,l,h,S){return{type:"ForNumericStatement",variable:e,start:i,end:l,step:h,body:S}},forGenericStatement:function(e,i,l){return{type:"ForGenericStatement",variables:e,iterators:i,body:l}},chunk:function(e){return{type:"Chunk",body:e}},identifier:function(e){return{type:"Identifier",name:e}},literal:function(e,i,l){return e=e===t?"StringLiteral":e===g?"NumericLiteral":e===x?"BooleanLiteral":e===E?"NilLiteral":"VarargLiteral",{type:e,value:i,raw:l}},tableKey:function(e,i){return{type:"TableKey",key:e,value:i}},tableKeyString:function(e,i){return{type:"TableKeyString",key:e,value:i}},tableValue:function(e){return{type:"TableValue",value:e}},tableConstructorExpression:function(e){return{type:"TableConstructorExpression",fields:e}},binaryExpression:function(e,i,l){var h=e==="and"||e==="or"?"LogicalExpression":"BinaryExpression";return{type:h,operator:e,left:i,right:l}},unaryExpression:function(e,i){return{type:"UnaryExpression",operator:e,argument:i}},memberExpression:function(e,i,l){return{type:"MemberExpression",indexer:i,identifier:l,base:e}},indexExpression:function(e,i){return{type:"IndexExpression",base:e,index:i}},callExpression:function(e,i){return{type:"CallExpression",base:e,arguments:i}},tableCallExpression:function(e,i){return{type:"TableCallExpression",base:e,arguments:i}},stringCallExpression:function(e,i){return{type:"StringCallExpression",base:e,argument:i}},comment:function(e,i){return{type:"Comment",value:e,raw:i}}};function w(e){if($){var i=F.pop();i.complete(),n.locations&&(e.loc=i.loc),n.ranges&&(e.range=i.range)}return e}var ie=Array.prototype.slice,st=Object.prototype.toString,ve=function(i,l){for(var h=0,S=i.length;h<S;h++)if(i[h]===l)return h;return-1};function Ee(e,i,l){for(var h=0,S=e.length;h<S;h++)if(e[h][i]===l)return h;return-1}function se(e){var i=ie.call(arguments,1);return e=e.replace(/%(\d)/g,function(l,h){return""+i[h-1]||""}),e}function Ae(){for(var e=ie.call(arguments),i={},l,h,S=0,L=e.length;S<L;S++){l=e[S];for(h in l)l.hasOwnProperty(h)&&(i[h]=l[h])}return i}function N(e){var i=se.apply(null,ie.call(arguments,1)),l,h;throw typeof e.line!="undefined"?(h=e.range[0]-e.lineStart,l=new SyntaxError(se("[%1:%2] %3",e.line,h,i)),l.line=e.line,l.index=e.range[0],l.column=h):(h=c-R+1,l=new SyntaxError(se("[%1:%2] %3",_,h,i)),l.index=c,l.line=_,l.column=h),l}function j(e,i){N(i,k.expectedToken,e,i.value)}function ee(e,i){if(typeof i=="undefined"&&(i=te.value),typeof e.type!="undefined"){var l;switch(e.type){case t:l="string";break;case a:l="keyword";break;case f:l="identifier";break;case g:l="number";break;case d:l="symbol";break;case x:l="boolean";break;case E:return N(e,k.unexpected,"symbol","nil",i)}return N(e,k.unexpected,l,e.value,i)}return N(e,k.unexpected,"symbol",e,i)}var c,v,W,te,ae,D,_,R;p.lex=ue;function ue(){for(oe();o.charCodeAt(c)===45&&o.charCodeAt(c+1)===45;)Te(),oe();if(c>=r)return{type:u,value:"<eof>",line:_,lineStart:R,range:[c,c]};var e=o.charCodeAt(c),i=o.charCodeAt(c+1);if(D=c,Oe(e))return Ce();switch(e){case 39:case 34:return Me();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ge();case 46:return B(i)?ge():i===46?o.charCodeAt(c+2)===46?Pe():O(".."):O(".");case 61:return O(i===61?"==":"=");case 62:return O(i===61?">=":">");case 60:return O(i===61?"<=":"<");case 126:return O(i===61?"~=":"~");case 58:return O(i===58?"::":":");case 91:return i===91||i===61?ke():O("[");case 42:case 47:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:case 38:case 124:return O(o.charAt(c))}return ee(o.charAt(c))}function oe(){for(;c<r;){var e=o.charCodeAt(c);if(Re(e))c++;else if(X(e))_++,R=++c;else break}}function Ce(){for(var e,i;qe(o.charCodeAt(++c)););return e=o.slice(D,c),Ie(e)?i=a:e==="true"||e==="false"?(i=x,e=e==="true"):e==="nil"?(i=E,e=null):i=f,{type:i,value:e,line:_,lineStart:R,range:[D,c]}}function O(e){return c+=e.length,{type:d,value:e,line:_,lineStart:R,range:[D,c]}}function Pe(){return c+=3,{type:H,value:"...",line:_,lineStart:R,range:[D,c]}}function Me(){for(var e=o.charCodeAt(c++),i=c,l="",h;c<r&&(h=o.charCodeAt(c++),e!==h);)h===92?(l+=o.slice(i,c-1)+_e(),i=c):(c>=r||X(h))&&(l+=o.slice(i,c-1),N({},k.unfinishedString,l+String.fromCharCode(h)));return l+=o.slice(i,c-1),{type:t,value:l,line:_,lineStart:R,range:[D,c]}}function ke(){var e=de();return e===!1&&N(v,k.expected,"[",v.value),{type:t,value:e,line:_,lineStart:R,range:[D,c]}}function ge(){var e=o.charAt(c),i=o.charAt(c+1),l=e==="0"&&"xX".indexOf(i||null)>=0?De():$e();return{type:g,value:l,line:_,lineStart:R,range:[D,c]}}function De(){var e=0,i=1,l=1,h,S,L,U;for(U=c+=2,Y(o.charCodeAt(c))||N({},k.malformedNumber,o.slice(D,c));Y(o.charCodeAt(c));)c++;if(h=parseInt(o.slice(U,c),16),o.charAt(c)==="."){for(S=++c;Y(o.charCodeAt(c));)c++;e=o.slice(S,c),e=S===c?0:parseInt(e,16)/Math.pow(16,c-S)}if("pP".indexOf(o.charAt(c)||null)>=0){for(c++,"+-".indexOf(o.charAt(c)||null)>=0&&(l=o.charAt(c++)==="+"?1:-1),L=c,B(o.charCodeAt(c))||N({},k.malformedNumber,o.slice(D,c));B(o.charCodeAt(c));)c++;i=o.slice(L,c),i=Math.pow(2,i*l)}return(h+e)*i}function $e(){for(;B(o.charCodeAt(c));)c++;if(o.charAt(c)===".")for(c++;B(o.charCodeAt(c));)c++;if("eE".indexOf(o.charAt(c)||null)>=0)for(c++,"+-".indexOf(o.charAt(c)||null)>=0&&c++,B(o.charCodeAt(c))||N({},k.malformedNumber,o.slice(D,c));B(o.charCodeAt(c));)c++;return parseFloat(o.slice(D,c))}function _e(){var e=c;switch(o.charAt(c)){case"n":return c++,`
`;case"r":return c++,"\r";case"t":return c++,"	";case"v":return c++,"\v";case"b":return c++,"\b";case"f":return c++,"\f";case"z":return c++,oe(),"";case"x":return Y(o.charCodeAt(c+1))&&Y(o.charCodeAt(c+2))?(c+=3,"\\"+o.slice(e,c)):"\\"+o.charAt(c++);default:if(B(o.charCodeAt(c))){for(;B(o.charCodeAt(++c)););return"\\"+o.slice(e,c)}return o.charAt(c++)}}function Te(){D=c,c+=2;var e=o.charAt(c),i="",l=!1,h=c,S=R,L=_;if(e==="["&&(i=de(),i===!1?i=e:l=!0),!l){for(;c<r&&!X(o.charCodeAt(c));)c++;n.comments&&(i=o.slice(h,c))}if(n.comments){var U=b.comment(i,o.slice(D,c));n.locations&&(U.loc={start:{line:L,column:D-S},end:{line:_,column:c-R}}),n.ranges&&(U.range=[D,c]),ae.push(U)}}function de(){var e=0,i="",l=!1,h,S;for(c++;o.charAt(c+e)==="=";)e++;if(o.charAt(c+e)!=="[")return!1;for(c+=e+1,X(o.charCodeAt(c))&&(_++,R=c++),S=c;c<r;){if(h=o.charAt(c++),X(h.charCodeAt(0))&&(_++,R=c),h==="]"){l=!0;for(var L=0;L<e;L++)o.charAt(c+L)!=="="&&(l=!1);o.charAt(c+e)!=="]"&&(l=!1)}if(l)break}return i+=o.slice(S,c-1),c+=e+1,i}function C(){W=v,v=te,te=ue()}function A(e){return e===v.value?(C(),!0):!1}function P(e){e===v.value?C():N(v,k.expected,e,v.value)}function Re(e){return e===9||e===32||e===11||e===12}function X(e){return e===10||e===13}function B(e){return e>=48&&e<=57}function Y(e){return e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70}function Oe(e){return e>=65&&e<=90||e>=97&&e<=122||e===95}function qe(e){return e>=65&&e<=90||e>=97&&e<=122||e===95||e>=48&&e<=57}function Ie(e){switch(e.length){case 2:return e==="do"||e==="if"||e==="in"||e==="or";case 3:return e==="and"||e==="end"||e==="for"||e==="not";case 4:return e==="else"||e==="goto"||e==="then";case 5:return e==="break"||e==="local"||e==="until"||e==="while";case 6:return e==="elseif"||e==="repeat"||e==="return";case 8:return e==="function"}return!1}function Fe(e){return d===e.type?"#-~".indexOf(e.value)>=0:a===e.type?e.value==="not":!1}function Ue(e){switch(e.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}function He(e){if(u===e.type)return!0;if(a!==e.type)return!1;switch(e.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}var G,J,ne;function Ne(){G.push(Array.apply(null,G[J++]))}function Ve(){G.pop(),J--}function ye(e){ve(G[J],e)===-1&&G[J].push(e)}function Z(e){ye(e.name),K(e,!0)}function K(e,i){!i&&Ee(ne,"name",e.name)===-1&&ne.push(e),e.isLocal=i}function be(e){return ve(G[J],e)!==-1}var F=[],$;function z(){return new le(v)}function le(e){n.locations&&(this.loc={start:{line:e.line,column:e.range[0]-e.lineStart},end:{line:0,column:0}}),n.ranges&&(this.range=[e.range[0],0])}le.prototype.complete=function(){n.locations&&(this.loc.end.line=W.line,this.loc.end.column=W.range[1]-W.lineStart),n.ranges&&(this.range[1]=W.range[1])};function Q(){$&&F.push(z())}function q(e){$&&F.push(e)}function Be(){C(),Q();var e=V();return u!==v.type&&ee(v),$&&!e.length&&(W=v),w(b.chunk(e))}function V(e){var i=[],l;for(n.scope&&Ne();!He(v);){if(v.value==="return"){i.push(Se());break}l=Se(),l&&i.push(l)}return n.scope&&Ve(),i}function Se(){if(Q(),a===v.type)switch(v.value){case"local":return C(),Ze();case"if":return C(),Xe();case"return":return C(),Qe();case"function":C();var e=tt();return ce(e);case"while":return C(),Ge();case"for":return C(),Ye();case"repeat":return C(),Je();case"break":return C(),Ke();case"do":return C(),We();case"goto":return C(),ze()}if(d===v.type&&A("::"))return je();if($&&F.pop(),!A(";"))return et()}function je(){var e=v.value,i=I();return n.scope&&(ye("::"+e+"::"),K(i,!0)),P("::"),w(b.labelStatement(i))}function Ke(){return w(b.breakStatement())}function ze(){var e=v.value,i=I();return n.scope&&(i.isLabel=be("::"+e+"::")),w(b.gotoStatement(i))}function We(){var e=V();return P("end"),w(b.doStatement(e))}function Ge(){var e=M();P("do");var i=V();return P("end"),w(b.whileStatement(e,i))}function Je(){var e=V();P("until");var i=M();return w(b.repeatStatement(i,e))}function Qe(){var e=[];if(v.value!=="end"){var i=re();for(i!=null&&e.push(i);A(",");)i=M(),e.push(i);A(";")}return w(b.returnStatement(e))}function Xe(){var e=[],i,l,h;for($&&(h=F[F.length-1],F.push(h)),i=M(),P("then"),l=V(),e.push(w(b.ifClause(i,l))),$&&(h=z());A("elseif");)q(h),i=M(),P("then"),l=V(),e.push(w(b.elseifClause(i,l))),$&&(h=z());return A("else")&&($&&(h=new le(W),F.push(h)),l=V(),e.push(w(b.elseClause(l)))),P("end"),w(b.ifStatement(e))}function Ye(){var e=I(),i;if(n.scope&&Z(e),A("=")){var l=M();P(",");var h=M(),S=A(",")?M():null;return P("do"),i=V(),P("end"),w(b.forNumericStatement(e,l,h,S,i))}else{for(var L=[e];A(",");)e=I(),n.scope&&Z(e),L.push(e);P("in");var U=[];do{var it=M();U.push(it)}while(A(","));return P("do"),i=V(),P("end"),w(b.forGenericStatement(L,U,i))}}function Ze(){var e;if(f===v.type){var i=[],l=[];do e=I(),i.push(e);while(A(","));if(A("="))do{var h=M();l.push(h)}while(A(","));if(n.scope)for(var S=0,L=i.length;S<L;S++)Z(i[S]);return w(b.localStatement(i,l))}if(A("function"))return e=I(),n.scope&&Z(e),ce(e,!0);j("<name>",v)}function et(){var e=v,i,l;if($&&(l=z()),i=he(),i==null)return ee(v);if(",=".indexOf(v.value)>=0){for(var h=[i],S=[],L;A(",");)L=he(),L==null&&j("<expression>",v),h.push(L);P("=");do L=M(),S.push(L);while(A(","));return q(l),w(b.assignmentStatement(h,S))}return Ue(i)?(q(l),w(b.callStatement(i))):ee(e)}function I(){Q();var e=v.value;return f!==v.type&&j("<name>",v),C(),w(b.identifier(e))}function ce(e,i){var l=[];if(P("("),!A(")"))for(;;)if(f===v.type){var h=I();if(n.scope&&Z(h),l.push(h),A(","))continue;if(A(")"))break}else if(H===v.type){l.push(pe()),P(")");break}else j("<name> or '...'",v);var S=V();return P("end"),i=i||!1,w(b.functionStatement(e,l,i,S))}function tt(){var e,i,l;for($&&(l=z()),e=I(),n.scope&&K(e,!1);A(".");)q(l),i=I(),n.scope&&K(i,!1),e=w(b.memberExpression(e,".",i));return A(":")&&(q(l),i=I(),n.scope&&K(i,!1),e=w(b.memberExpression(e,":",i))),e}function we(){for(var e=[],i,l;;){if(Q(),d===v.type&&A("["))i=M(),P("]"),P("="),l=M(),e.push(w(b.tableKey(i,l)));else if(f===v.type)i=M(),A("=")?(l=M(),e.push(w(b.tableKeyString(i,l)))):e.push(w(b.tableValue(i)));else{if((l=re())==null){F.pop();break}e.push(w(b.tableValue(l)))}if(",;".indexOf(v.value)>=0){C();continue}if(v.value==="}")break}return P("}"),w(b.tableConstructorExpression(e))}function re(){var e=fe(0);return e}function M(){var e=re();if(e==null)j("<expression>",v);else return e}function nt(e){var i=e.charCodeAt(0),l=e.length;if(l===1)switch(i){case 94:return 10;case 42:case 47:case 37:return 7;case 43:case 45:return 6;case 60:case 62:return 3;case 38:case 124:return 7}else if(l===2)switch(i){case 46:return 5;case 60:case 62:case 61:case 126:return 3;case 111:return 1}else if(i===97&&e==="and")return 2;return 0}function fe(e){var i=v.value,l,h;if($&&(h=z()),Fe(v)){Q(),C();var S=fe(8);S==null&&j("<expression>",v),l=w(b.unaryExpression(i,S))}if(l==null&&(l=pe(),l==null&&(l=he())),l==null)return null;for(var L;i=v.value,L=d===v.type||a===v.type?nt(i):0,!(L===0||L<=e);){(i==="^"||i==="..")&&L--,C();var U=fe(L);U==null&&j("<expression>",v),$&&F.push(h),l=w(b.binaryExpression(i,l,U))}return l}function he(){var e,i,l,h;if($&&(l=z()),f===v.type)i=v.value,e=I(),n.scope&&K(e,h=be(i));else if(A("("))e=M(),P(")"),n.scope&&(h=e.isLocal);else return null;for(var S,L;;)if(d===v.type)switch(v.value){case"[":q(l),C(),S=M(),e=w(b.indexExpression(e,S)),P("]");break;case".":q(l),C(),L=I(),n.scope&&K(L,h),e=w(b.memberExpression(e,".",L));break;case":":q(l),C(),L=I(),n.scope&&K(L,h),e=w(b.memberExpression(e,":",L)),q(l),e=me(e);break;case"(":case"{":q(l),e=me(e);break;default:return e}else if(t===v.type)q(l),e=me(e);else break;return e}function me(e){if(d===v.type)switch(v.value){case"(":C();var i=[],l=re();for(l!=null&&i.push(l);A(",");)l=M(),i.push(l);return P(")"),w(b.callExpression(e,i));case"{":Q(),C();var h=we();return w(b.tableCallExpression(e,h))}else if(t===v.type)return w(b.stringCallExpression(e,pe()));j("function arguments",v)}function pe(){var e=t|g|x|E|H,i=v.value,l=v.type,h;if($&&(h=z()),l&e){q(h);var S=o.slice(v.range[0],v.range[1]);return C(),w(b.literal(l,i,S))}else{if(a===l&&i==="function")return q(h),C(),ce(null);if(A("{"))return q(h),we()}}p.parse=rt;function rt(e,i){return typeof i=="undefined"&&typeof e=="object"&&(i=e,e=void 0),i||(i={}),o=e||"",n=Ae(s,i),c=0,_=1,R=0,r=o.length,G=[[]],J=0,ne=[],F=[],n.comments&&(ae=[]),n.wait?p:xe()}p.write=Le;function Le(e){return o+=String(e),r=o.length,p}p.end=xe;function xe(e){typeof e!="undefined"&&Le(e),r=o.length,$=n.locations||n.ranges,te=ue();var i=Be();if(n.comments&&(i.comments=ae),n.scope&&(i.globals=ne),F.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");return i}})}),ace.define("ace/mode/lua_worker",[],function(m,y,T){"use strict";var p=m("../lib/oop"),o=m("../worker/mirror").Mirror,n=m("../mode/lua/luaparse"),r=y.Worker=function(s){o.call(this,s),this.setTimeout(500)};p.inherits(r,o),function(){this.onUpdate=function(){var s=this.doc.getValue(),u=[];try{n.parse(s)}catch(t){t instanceof SyntaxError&&u.push({row:t.line-1,column:t.column,text:t.message,type:"error"})}this.sender.emit("annotate",u)}}.call(r.prototype)});
