ace.define("ace/ext/static_highlight",["require","exports","module","ace/edit_session","ace/layer/text","ace/config","ace/lib/dom","ace/lib/lang"],function(g,j,y){"use strict";var x=g("../edit_session").EditSession,N=g("../layer/text").Text,S=".ace_static_highlight {font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', 'Droid Sans Mono', monospace;font-size: 12px;white-space: pre-wrap}.ace_static_highlight .ace_gutter {width: 2em;text-align: right;padding: 0 3px 0 0;margin-right: 3px;contain: none;}.ace_static_highlight.ace_show_gutter .ace_line {padding-left: 2.6em;}.ace_static_highlight .ace_line { position: relative; }.ace_static_highlight .ace_gutter-cell {-moz-user-select: -moz-none;-khtml-user-select: none;-webkit-user-select: none;user-select: none;top: 0;bottom: 0;left: 0;position: absolute;}.ace_static_highlight .ace_gutter-cell:before {content: counter(ace_line, decimal);counter-increment: ace_line;}.ace_static_highlight {counter-reset: ace_line;}",C=g("../config"),M=g("../lib/dom"),T=g("../lib/lang").escapeHTML;function m(e){this.type=e,this.style={},this.textContent=""}m.prototype.cloneNode=function(){return this},m.prototype.appendChild=function(e){this.textContent+=e.toString()},m.prototype.toString=function(){var e=[];if(this.type!="fragment"){e.push("<",this.type),this.className&&e.push(" class='",this.className,"'");var t=[];for(var a in this.style)t.push(a,":",this.style[a]);t.length&&e.push(" style='",t.join(""),"'"),e.push(">")}return this.textContent&&e.push(this.textContent),this.type!="fragment"&&e.push("</",this.type,">"),e.join("")};var u={createTextNode:function(e,t){return T(e)},createElement:function(e){return new m(e)},createFragment:function(){return new m("fragment")}},b=function(){this.config={},this.dom=u};b.prototype=N.prototype;var d=function(e,t,a){var l=e.className.match(/lang-(\w+)/),p=t.mode||l&&"ace/mode/"+l[1];if(!p)return!1;var s=t.theme||"ace/theme/textmate",n="",c=[];if(e.firstElementChild)for(var o=0,r=0;r<e.childNodes.length;r++){var i=e.childNodes[r];i.nodeType==3?(o+=i.data.length,n+=i.data):c.push(o,i)}else n=e.textContent,t.trim&&(n=n.trim());d.render(n,p,s,t.firstLineNumber,!t.showGutter,function(h){M.importCssString(h.css,"ace_highlight"),e.innerHTML=h.html;for(var v=e.firstChild.firstChild,f=0;f<c.length;f+=2){var _=h.session.doc.indexToPosition(c[f]),L=c[f+1],w=v.children[_.row];w&&w.appendChild(L)}a&&a()})};d.render=function(e,t,a,l,p,s){var n=1,c=x.prototype.$modes;typeof a=="string"&&(n++,C.loadModule(["theme",a],function(i){a=i,--n||r()}));var o;t&&typeof t=="object"&&!t.getTokenizer&&(o=t,t=o.path),typeof t=="string"&&(n++,C.loadModule(["mode",t],function(i){(!c[t]||o)&&(c[t]=new i.Mode(o)),t=c[t],--n||r()}));function r(){var i=d.renderSync(e,t,a,l,p);return s?s(i):i}return--n||r()},d.renderSync=function(e,t,a,l,p){l=parseInt(l||1,10);var s=new x("");s.setUseWorker(!1),s.setMode(t);var n=new b;n.setSession(s),Object.keys(n.$tabStrings).forEach(function(f){if(typeof n.$tabStrings[f]=="string"){var _=u.createFragment();_.textContent=n.$tabStrings[f],n.$tabStrings[f]=_}}),s.setValue(e);var c=s.getLength(),o=u.createElement("div");o.className=a.cssClass;var r=u.createElement("div");r.className="ace_static_highlight"+(p?"":" ace_show_gutter"),r.style["counter-reset"]="ace_line "+(l-1);for(var i=0;i<c;i++){var h=u.createElement("div");if(h.className="ace_line",!p){var v=u.createElement("span");v.className="ace_gutter ace_gutter-cell",v.textContent="",h.appendChild(v)}n.$renderLine(h,i,!1),h.textContent+=`
`,r.appendChild(h)}return o.appendChild(r),{css:S+a.cssText,html:o.toString(),session:s}},y.exports=d,y.exports.highlight=d}),function(){ace.require(["ace/ext/static_highlight"],function(g){typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=g)})}();
